.\" Manpage for fccanalysis-file
.\" Contact fcc-experiments-sw-dev@cern.ch to correct errors or typos.
.TH FCCANALYSIS\-FILE 7 "24 May 2023" "0.7.0" "fccanalysis-file man page"
.SH NAME
fccanalysis\-file \- analysis file specification
.SH SYNOPSIS
.sp
*
.sp
.SH DESCRIPTION
The analysis file is expected to be a valid Python script containing either
part of or the full analysis. There are two basic modes how to run a FCC
analysis, one is to run in the managed mode like so:
.PP
.RS 4
fcc run <analysis_file.py>
.RE
.PP
or
.PP
.RS 4
fcc final <analysis_file.py>
.RE
.PP
where user needs to provide minimal number of variables and settings. In this
mode the RDataFrame is managed for the user and it can be controlled by defining
several global attributes in the analysis file. The other mode is to run the
analysis file as regular python script:
.PP
.RS 4
python <analysis_file.py>
.RE
.PP
here user has full control over the RDataFrame, but has to create all necessary
scaffolding\&.
.SH ATTRIBUTES
In case of running the FCCAnalysis in the managed mode user can use the
following global attributes to control the behavior of the analysis.
.PP
\fBprocDict\fR
.RS 4
This variable controls which process dictionary will be used. It can be either
simple file name, absolute path or url. In the case of simple filename, the file
is being searched for first in the working directory and then at the locations
indicated in the $FCCDICTSDIR environment variable.
.RE
.PP
\fBprodTag\fR
.RS 4
Provides information where to find input files. There are several way how to
find the information, one of them uses YAML file which is being searched for in
the subfolders of $FCCDICTSDIR.
.RE
.PP
\fBprocessList\fR
.RS 4
Dictionary of process samples to be run over. Each process can have several
parameters:
.br
\fIfraction\fR
.RS 4
The analysis will run over reduced number of input files roughly corresponding
to the fraction of total events specified\&.
.br
Default value: 1 (full process sample)
.RE
\fIoutput\fR
.RS 4
Specifies the stem for the output file(s)\&. The stem will be used to create
output directory if there is more than one chunk or as a filename if there is
only one\&.
.br
Default value: output\&.root
.RE
\fIchunks\fR
.RS 4
The analysis RDataFrame can be split into several chunks\&.
.br
Default value: 1
.RE
.RE
.PP
\fBoutputDir\fR
.RS 4
User can specify the directory for the output files. The output directory can be
overwriten by specifiing absolute path with `\-\-output` commandline argument\&.
.RE
.PP
This section is under construction. You are invited to help :)
.SH SEE ALSO
fccanalysis(1), fccanalysis-run(1)
.SH BUGS
Many
.SH AUTHORS
There are many contributors to the FCCAnalyses framework, but the principal
authors are:
.br
.RS 4
Clement Helsens
.br
Valentin Volk
.br
Gerardo Ganis
.RE
.SH FCCANALYSES
Part of the FCCAnalyses framework\&.
.SH LINKS
.PP
1\&. FCCAnalyses webpage
.RS 4
https://hep-fcc\&.github\&.io/FCCAnalyses/
.RE
.PP
2\&. FCCAnalysises GitHub repository
.RS
https://github\&.com/HEP\-FCC/FCCAnalyses/
.RE
.PP
3\&. FCCSW Forum
.RS
https://fccsw\-forum\&.web\&.cern\&.ch/
.RE
